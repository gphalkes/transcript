.\" Copyright (C) 2011 G.P. Halkes
.\" This program is free software: you can redistribute it and/or modify
.\" it under the terms of the GNU General Public License version 3, as
.\" published by the Free Software Foundation.
.\"
.\" This program is distributed in the hope that it will be useful,
.\" but WITHOUT ANY WARRANTY; without even the implied warranty of
.\" MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
.\" GNU General Public License for more details.
.\"
.\" You should have received a copy of the GNU General Public License
.\" along with this program.  If not, see <http://www.gnu.org/licenses/>.
.TH "ucm2ltc" "1" "<DATE>" "Version <VERSION>" "Convert a UCM file to an LTC source"
.hw /usr/share/doc/libtranscript-<VERSION> http://os.ghalkes.nl/libtranscript.html

.SH NAME

\fBucm2ltc\fP \- convert a UCM file to an LTC source
.SH SYNOPSIS

\fBucm2ltc\fP [\fIOPTIONS\fP] ([-c] [-i] [-n<name>] <\fIFILE\fP> ...)
.SH DESCRIPTION

\fBucm2ltc\fP converts a UCM description of a character set to the C source for
an LTC (LibTranscript Converter). The UCM description may contain several
extra constructs specific to \fBucm2ltc\fP, described below.
.SH OPTIONS

\fBucm2ltc\fP accepts the following options:
.IP "\fB\-D\fP, \fB\-\-dump\fP"
Dump the input as a UCM description of the converter. Only the input files up
to the first \-c option are considered.
.IP "\fB\-c\fP, \fB\-\-concatenate\fP"
When multiple input files are specified, \fBucm2ltc\fP normally creates a
single main converter, with several delta converters. This mode of operation is
desirable when the specified input files are small variations, because it can
save space. However, sometimes it is desirable to bunch a set of converters in
a single LTC because the converters may be related, but not variations of a
single converter. By specifying the \-c option before an input file that
is not a variation of the previous input file, \fBucm2ltc\fP will treat the
following input files as the specification of a separate converter, but will
output a single LTC source file.
.IP "\fB\-h\fP, \fB\-\-help\fP"
Display a short help message.
.IP "\fB\-i\fP, \fB\-\-internal\fP"
Specify that the following input file is to be considered an internal
converter, only to be used by another LTC module. A converter built with the
\-i flag can not be opened by clients of the libtranscript library, only by
other LTC modules.
.IP "\fB\-I\fP, \fB\-\-allow-ibm-rotate\fP"
Some UCM files provided by IBM map the Unicode characters U+001A, U+001C and
U+007F to the output bytes 7F 1A and 1C respectively. This rotated mapping is
IBM specific, and therefore ucm2ltc normally undoes this. However, in some
instances it is desirable to keep this rotated mapping. This option instructs
\fBucm2ltc\fP to keep the rotated mapping intact.
.IP "\fB\-n\fP <\fBname\fP>, \fB\-\-name\fP=<\fBname\fP>"
Set the name of the converter to \fBname\fP. Normally the name of the input
file is taken as the name of the converter (without the .ucm extension).
.IP "\fB\-o\fP <\fBoutput\fP>, \fB\-\-output\fP=<\fBoutput\fP>"
Write the output to \fBoutput\fP. If not specified, the input file name is
used, with the .ucm extension replaced with .c. This option is required if more
than one input file is provided.
.IP "\fB\-v\fP, \fB\-\-verbose\fP"
Produce verbose output to standard error. Specifiy this option multiple times
to increase verbosity.
.PP
To stop \fBucm2ltc\fP from interpreting file names that start with a dash as
options, one can specify a double dash (\-\-) after which \fBucm2ltc\fP will
interpret any following arguments as files to read.
.SH UCM EXTENSIONS

\fBucm2ltc\fP accepts several extensions to the basic UCM file format:
.IP \[bu]
In the UCM header, the <transcript:internal> tag is accepted to indicate that
this converter is only to be used as an internal converter. This has the same
effect as the \-i option.
.IP \[bu]
M:N mappings can be included in the main CHARMAP, and do not have to be
separated into the second CHARMAP entry.
.IP \[bu]
After the main CHARMAP, delta maps can be included by using
VARIANT [INTERNAL] <name> ... END VARIANT. If delta maps are included, the main
CHARMAP is not included as a converter. Only the delta converters are available
in the LTC. To include the CHARMAP as a separate entry, include an empty delta
map.
.SH BUGS

If you think you have found a bug, please check that you are using the latest
version of \fBlibtranscript\fP [http://os.ghalkes.nl/libtranscript.html]. When
reporting bugs, please include a minimal example that demonstrates the problem.
.SH AUTHOR

G.P. Halkes <libtranscript@ghalkes.nl>
.SH COPYRIGHT

Copyright \(co 2011 G.P. Halkes
.br
libtranscript is licensed under the GNU General Public License version 3.
.br
For more details on the license, see the file COPYING in the documentation
directory. On Un*x systems this is usually
/usr/share/doc/libtranscript-<VERSION>.
